---
title: 费用分摊AI小助手来啦
date: 2026-01-03 21:30:35
tags: [聚会分账小程序, AI]
---



之前写过一个[费用分摊的小程序](https://zhengw-tech.com/2024/12/31/cursor-in-action/)，目前借助AI能力，实现了一个AI小助手来帮助我们操作，代码主要是使用的 Claude Code 进行编写

目前可以通过自然语言与其进行交互，同时还可以辅助预测我们的下一步操作进行提示，如果预测的正确可以直接点击快捷按钮，简化操作流程

<img src="/images/share_expense_ai.png" style="zoom:60%" />

体验地址：[https://zhengw-tech.com/expense/ai-chat.html](https://zhengw-tech.com/expense/ai-chat.html)，可以先自行操作体验下

如果大家还有兴趣，下面开始详细介绍功能使用指南～

<!-- more -->

## 什么是 AI 助手？

记账助手的 AI 功能让你可以用日常聊天的语言来管理账目，不需要学习复杂的操作步骤。就像和朋友聊天一样，告诉 AI 你想做什么，它就会自动帮你处理。

比如，你可以这样跟 AI 说：
- "创建一个周末聚餐的项目，成员有张三、李四、王五"
- "记录一笔支出，张三付了 50 元吃饭，我们 3 个人 AA"
- "帮我算算周末聚餐的结算，看看谁该给谁钱"

AI 会自动理解你的意思，完成相应的操作。

---

## AI 助手能做什么？

### 1. 创建账目项目

**适用场景**：开始一次新的活动，需要记录大家的费用分摊

**使用示例**：
- "创建一个周末聚餐项目，成员有张三、李四、王五"
- "新建项目叫云南旅行，包含 5 个人：张三、李四、王五、赵六、钱七"
- "建个账单分摊群，我和室友一起用"

**AI 会自动处理**：
- 创建项目
- 添加成员名单
- 返回创建结果（项目名称、成员数量等）

**返回示例**：
```
✅ 项目创建成功！

- 项目名称：周末聚餐
- 成员数量：3 人
- 成员列表：张三、李四、王五
```

---

### 2. 记录费用支出

**适用场景**：有人付了钱，需要记下来之后一起分摊

**使用示例**：
- "记录一笔支出，张三付了 50 元吃饭，我们 3 个人 AA"
- "添加交通费，李四花了 20 元地铁"
- "昨天王五付的 100 元住宿费，4 个人平摊"
- "张三今天买了菜，花了 80 元，大家一起吃"

**AI 会自动处理**：
- 识别付款人
- 识别金额和费用类型
- 识别参与分摊的成员
- 添加到对应项目中

**返回示例**：
```
✅ 费用记录添加成功！

- 付款人：张三
- 金额：50.00 元
- 类型：餐饮
- 消费成员：张三、李四、王五
- 日期：2025-01-03
```

**小提示**：
- 可以说"AA"、"平摊"、"大家一起"，AI 都能理解
- 可以指定日期："昨天"、"今天"、"2025-01-03" 都可以
- 金额可以说"50元"、"五十块"、"50"，AI 都能识别

---

### 3. 查询结算情况

**适用场景**：活动结束了，想知道谁该给谁多少钱

**使用示例**：
- "算算周末聚餐的结算"
- "看看云南旅行的账，谁该给谁钱"
- "查询一下结算情况"

**AI 会自动处理**：
- 计算每个人的总支出
- 计算每个人的总消费
- 算出每个人应收或应付的金额

**返回示例**：
```
# 周末聚餐 的结算情况

• 张三：应收 16.67 元
• 李四：应付 8.33 元
• 王五：应付 8.33 元
```

**说明**：
- **应收**：别人欠他钱（他付多了）
- **应付**：他欠别人钱（他付少了）
- 如果是 0 元，说明已经平衡了

---

### 4. 查看账目详情

**适用场景**：想知道某个项目记录了哪些支出，或者想看费用统计

**使用示例**：
- "查看周末聚餐的账单明细"
- "云南旅行都花了哪些钱"
- "统计周末聚餐的总支出"
- "按类型查看费用分布"
- "查看每个人的消费情况"

**AI 会根据你的需求返回不同信息**：

**模式1：费用统计**（当你问"统计"、"总支出"、"分布"等）
- 总览信息（总支出、总笔数、涉及成员、时间范围）
- 按类型统计（餐饮、交通、住宿等分类汇总）
- 按成员统计（每个人的付款金额、消费金额、净收支）

**模式2：费用明细**（当你问"明细"、"记录"、"列表"等）
- 每笔支出的详细信息
- 日期、付款人、金额、类型、备注、消费人员

**模式3：完整信息**（当你问"所有信息"、"全部详情"等）
- 包含统计和明细的所有内容

**返回示例**（费用统计）：
```
# 周末聚餐 的费用汇总

## 总览
- 总支出：230.00 元
- 总笔数：3 笔
- 涉及成员：3 人（张三、李四、王五）
- 时间范围：2025-01-01 至 2025-01-03

## 按类型统计
- 餐饮：150.00 元（65.2%），2 笔
- 交通：30.00 元（13.0%），1 笔
- 住宿：50.00 元（21.7%），1 笔

## 按成员统计
- 张三：付款 150.00 元，消费 76.67 元，净收支 +73.33 元，付款 2 次，参与 3 次
- 李四：付款 30.00 元，消费 76.67 元，净收支 -46.67 元，付款 1 次，参与 3 次
- 王五：付款 50.00 元，消费 76.67 元，净收支 -26.67 元，付款 1 次，参与 3 次
```

---

### 5. 查看所有项目

**适用场景**：想看看自己有哪些账目项目，或者搜索特定项目

**使用示例**：
- "查看我的所有项目"
- "列出所有账单"
- "我有哪些项目"
- "搜索包含'聚餐'的项目"

**AI 会返回**：
- 所有项目的列表（按创建时间倒序）
- 每个项目的名称、ID和描述
- 成员列表（如果需要的话）

**小提示**：
- 支持模糊搜索：可以说"搜索周末项目"
- 可以查看成员：说"查看项目和成员"会显示成员列表
- 默认显示最近的项目

---

### 6. 添加新成员

**适用场景**：项目创建后，又有新朋友加入

**使用示例**：
- "给周末聚餐项目加个成员，赵六"
- "云南旅行项目新增一个人：钱七"

**AI 会自动处理**：
- 找到对应的项目
- 添加新成员
- 返回添加结果

---

### 7. 智能建议（快捷操作）

**适用场景**：不想打字，直接点击建议快速操作

**功能说明**：
AI 会根据你的对话历史，自动预测你可能要说的内容，并显示为可点击的标签。点击标签就能直接发送，不需要打字。

**建议类型**：
- **新用户建议**：第一次使用时，会显示常用操作的示例
  - "创建项目「周末聚餐」，成员有小明、小红、小李"
  - "今天午饭AA，80元4个人分,小明出钱"
  - "查看我的项目"

- **上下文建议**：根据对话内容智能推荐
  - 刚创建了项目 → 建议记录费用
  - 刚记录了费用 → 建议查看结算
  - 刚查看了项目 → 建议查询费用明细

- **通用建议**：随时可用的常用操作
  - "记录一笔费用"
  - "查看费用明细"
  - "创建新项目"

**使用方式**：
1. 在聊天界面底部看到建议标签
2. 点击想要的建议
3. 自动填充到输入框，直接发送

**小提示**：
- 建议会随着对话内容动态更新
- 每次对话后都会刷新推荐
- 不想用建议可以直接打字，不受影响

---

## 使用技巧

### 1. 支持多种表达方式

AI 能理解不同的表达方式，你可以说：
- "记录支出"、"记一笔"、"添加消费"
- "算算账"、"查询结算"、"看看谁该给谁钱"
- "创建项目"、"新建账单"、"建个群"

### 2. 可以用项目名称或 ID

查询或操作时，可以说：
- "周末聚餐的结算"（用项目名称）
- "项目 5 的结算"（用项目 ID）

AI 会自动识别，不用刻意记 ID。

### 3. 部分信息可以省略

如果信息不完整，AI 会提示你补充：
- 如果你说"张三付了 50 元"，AI 会问："用于什么消费？哪些人参与？"
- 如果你说"记录支出，我们 3 个人 AA"，AI 会问："谁付的钱？金额是多少？"

### 4. 日期支持多种格式

- "今天"、"昨天"
- "2025-01-03"
- "1月3号"

如果不指定日期，默认记录今天。

---

## 常见问题

### Q: 我有多个项目，AI 怎么知道我说的是哪个？

**A**: 有几种方式：
1. **说完整的项目名称**："周末聚餐的结算"
2. **说项目 ID**："项目 5 的结算"
3. **上下文关联**：如果你刚才在聊"周末聚餐"，继续说"算算结算"时，AI 会知道还是这个项目

### Q: 项目成员必须创建时就定好吗？

**A**: 不是的，可以随时添加成员：
- 创建时：指定初始成员
- 后续添加：使用"添加成员"功能

### Q: 结算金额精确到小数点后几位？

**A**: 精确到分（小数点后 2 位）。比如 16.67 元。

---

## 实际使用场景

### 场景 1：朋友聚餐

**对话示例**：
```
你：创建一个周末聚餐项目，成员有张三、李四、王五
AI：✅ 项目创建成功！...（项目信息）

你：记录一笔支出，张三付了 150 元火锅，张三、李四、王五一起吃
AI：✅ 费用记录添加成功！...（记录信息）

你：李四买了饮料，花了 30 元，我们 3 个人平摊
AI：✅ 费用记录添加成功！

你：算算结算
AI：# 周末聚餐 的结算情况
   • 张三：应收 40.00 元
   • 李四：应付 10.00 元
   • 王五：应付 30.00 元
```

### 场景 2：结伴旅行

**对话示例**：
```
你：新建云南旅行项目，5个人：张三、李四、王五、赵六、钱七
AI：✅ 项目创建成功！

你：张三昨天付了 500 元住宿费，张三、李四、王五、赵六、钱七平摊
AI：✅ 费用记录添加成功！

你：李四今天买了门票，5个人每人80元
AI：✅ 费用记录添加成功！

你：查看云南旅行的账单明细
AI：（列出所有支出记录）

你：算算云南旅行的结算
AI：（显示每个人的应付/应收金额）
```

---

## 为什么用 AI 助手？

### 方便快捷
- 不用记住复杂的操作步骤
- 不用点击多个按钮
- 像聊天一样自然
- 智能建议，点击即可发送

### 省时省力
- 自动识别项目（支持名称或ID）
- 自动解析金额和成员
- 支持多种表达方式
- 一次对话完成多个操作

### 降低出错
- AI 会验证数据（比如成员必须在项目中）
- 提供清晰的错误提示
- 自动计算结算金额
- 支持模糊搜索项目

---

## 总结

AI 助手让记账分摊变得像聊天一样简单。不用学习复杂的操作，用日常语言就能完成所有功能。无论是朋友聚餐、结伴旅行，还是合租室友、团队活动，都能轻松管理账目。

试试看吧，有任何问题欢迎反馈！

---

## 待优化功能

我们正在持续优化 AI 助手的功能，以下是一些计划中的改进：

### 智能纠错
**当前状态**：开发中

**功能说明**：
当你发现 AI 理解错误时，可以直接告诉它，AI 会自动纠正错误记录。

**使用示例**：
- 你：记录一笔，张三付了 50 元
- AI：好的，已添加餐饮支出 50 元
- 你：不对，是交通费，坐地铁
- AI：明白了，我来修改这笔记录...

**预计实现时间**：下个版本

---

如果你有任何功能建议或想法，欢迎在 [GitHub](https://github.com/zavier/share-expense) 上提 [Issue](https://github.com/zavier/share-expense/issues) 或 [PR](https://github.com/zavier/share-expense/pulls)！